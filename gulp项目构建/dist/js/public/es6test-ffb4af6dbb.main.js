/**
 * yidao
 * created by 用车前端组
 */
"use strict";!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1);console.log(util.href)},function(t,e){var n=window||{};n.BASE_PATH="/",n.API_PATH=n.BASE_PATH+"",n.CM_API_PATH=n.BASE_PATH+"common/v1/",n.MB_API_PATH=n.BASE_PATH+"member/v1/",n.AS_API_PATH=n.BASE_PATH+"asset/v1/",n.BSNS_API_PATH=n.BASE_PATH+"business/v1/",n.RESGRP_API_PATH=n.BASE_PATH+"webres/v1/",n.WXCM_API_PATH=n.BASE_PATH+"wxcommon/v1/",n.WXP_API_PATH=n.BASE_PATH+"wxpay/v1/sod/",n.PVC_API_PATH=n.BASE_PATH+"json/pvc/",n.SERAREA_API_PATH=n.BASE_PATH+"json/servicearea/",n.EDOC_API_PATH=n.BASE_PATH+"edoc/GomeWordWeb/asset/v1/wx/",n.USERPIC_API_PATH=n.BASE_PATH+"member/v1/getheader?id=",n.MSGBOARD_API_PATH=n.BASE_PATH+"edoc/scmi/scmi/",n.REPORTCHART_API_PATH=n.BASE_PATH+"stats/v1/",n.PURCHASING_API_PATH=n.BASE_PATH+"purchasing/v1/",n.VERSION="48",n.EMPTY_FN=function(){},n.util={interval:{},noWxLogin:window.NO_WXLOGIN},n.util.OPT_STATE={UPDATE:1,DISABLED:2,DELETE:3},$.extend(n.util,{isWeixin:function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},getClick:function(){return this.checkSupportTouch()?"tap":"click"},getMousedown:function(){return this.checkSupportTouch()?"touchstart":"mousedown"},getMouseup:function(){return this.checkSupportTouch()?"touchend":"mouseup"},getMousemove:function(){return this.checkSupportTouch()?"touchmove":"mousemove"},checkSupportTouch:function(){return"undefined"!=typeof window.document.ontouchstart},strEncrypt:function(t,e,n,o){var t=t+"",o=o||"*",r=e+n-1;return t&&t.replace(/./g,function(t,n){return n>=e&&n<=r?o:t})},formateDate:function(t,e){var n,o,r,i,a,c,l="";return"string"==typeof t&&(t=t.replace(/-/g,"/")),t=new Date(t),isNaN(t.getTime())||(n=t.getFullYear(),o=t.getMonth()+1,o<10&&(o="0"+o),r=t.getDate(),r<10&&(r="0"+r),i=t.getHours(),i<10&&(i="0"+i),a=t.getMinutes(),a<10&&(a="0"+a),c=t.getSeconds(),c<10&&(c="0"+c),l=e.replace(/yyyy/g,n).replace(/MM/g,o).replace(/dd/g,r).replace(/hh/g,i).replace(/mm/g,a).replace(/ss/g,c)),l},getHrefParma:function(t){var e,n,o,r,i={},a=[],c="";t?(e=t.indexOf("?"),t=e>-1?t.slice(e+1):""):t=decodeURI(window.location.search.slice(1)),e=t.indexOf("ou="),e>-1&&(i.ou=t.slice(e+3),t=t.slice(0,e)),a=t.split("&");for(var e in a)c=a[e],n=c.indexOf("="),n<0||(o=c.slice(0,n),r=c.slice(n+1),i[o]="cbu"===o?util.decode(r):r);return i},setHrefParma:function(t,e){var e=e||{},n="";if(e=$.extend(util.getHrefParma(t),e),t&&e){t=t.replace(/\?.*$/,"");for(var o in e)e.hasOwnProperty(o)&&"ou"!==o&&"cbu"!==o&&(n+=o+"="+e[o]+"&");e.cbu&&(n+="cbu="+util.encode(e.cbu)+"&"),e.ou&&(n+="ou="+e.ou+"&"),n&&(t+="?"+n.replace(/&$/,""))}return t},getJumpUrl:function(t){var e=t.url,o=t.urlParma,r=t.isSaveou,i=decodeURI(window.location.pathname+window.location.search);return 0===e.indexOf("javascript:")||(o=o||{},r&&(o.ou=i),o.v=n.VERSION,e=util.setHrefParma(e,o)),encodeURI(e)},href:function(t,e,n){window.location.href=util.getJumpUrl({url:t,urlParma:e,isSaveou:n})},replace:function(t,e,n){window.location.replace(util.getJumpUrl({url:t,urlParma:e,isSaveou:n}))},api:function(t){var e=t.success||n.EMPTY_FN,o=t.error||n.EMPTY_FN,r=t.complete||n.EMPTY_FN,i=t.beforeSend||n.EMPTY_FN,a=(new Date).getTime();t.url=t.surl?t.surl:n.API_PATH+t.url,t.url+=(t.url.indexOf("?")>-1?"&":"?")+"ct="+a,t=$.extend({timeout:1e4,type:"post",async:!0,dataType:"json",contentType:"application/json; charset=utf-8"},t,{success:function(t,n,o){return t&&t.rpco&&401===t.rpco?util.login(t.furl):e.apply(this,arguments)},beforeSend:function(){return i.apply(this,arguments)},error:function(t,e){return util.comShow({txt:"您的网络异常，加载失败，请您<br>重新尝试",link:"javascript: window.location.reload();",btn:"重新加载",icl:"i-abnormal"}),o.apply(this,arguments)},complete:function(t,e){return r.apply(this,arguments)}}),"post"==t.type&&t.data&&(t.data=JSON.stringify(t.data));var c=$.ajax(t);return c}}),$.extend(n.util,{alert:function(t,e){var n=$.extend({content:"",title:"提示",txtal:"center",justOk:!0,defBtnIndex:-1,okBtnText:"确定",cancelBtnText:"取消",okFn:function(){},cancelFn:function(){}},e),o="";$(".dialog").remove(),o='<div class="dialog"><div class="tablecell"><div class="alert"><div class="alert-title">'+n.title+'</div><div class="alert-content" style="text-align: '+n.txtal+';">'+t+'</div><div class="alert-btn"><span id="alert-ok">'+n.okBtnText+'</span><span id="alert-cancel">'+n.cancelBtnText+"</span></div></div></div></div>",$("body").append(o),n.justOk&&$("#alert-cancel").remove(),n.defBtnIndex>-1&&$(".alert-btn span:eq("+n.defBtnIndex+")").css("font-weight","bold"),$("#alert-ok").off().on("click",function(){$(".dialog").remove(),n.okFn&&n.okFn()}),$("#alert-cancel").off().on("click",function(){$(".dialog").remove(),n.cancelFn&&n.cancelFn()})},prompt:function(t,e){var n=$.extend({content:"",inpuPlaceholderArray:[],title:"提示",txtal:"center",justOk:!0,defBtnIndex:-1,okBtnText:"确定",cancelBtnText:"取消",okFn:function(){},cancelFn:function(){}},e),o="",r="";$(".dialog").remove();for(var i=0,a=n.inpuPlaceholderArray.length;i<a;i++)r+='<div class="alert-input '+(i===a-1?"mb20":"")+'"><input class="wl100" id="lgtk" type="text" placeholder="'+n.inpuPlaceholderArray[i]+'" maxlength="32"></div>';o='<div class="dialog"><div class="tablecell"><div class="alert prompt"><div class="alert-title">'+n.title+'</div><div class="alert-content" style="text-align: '+n.txtal+';">'+t+"</div>"+r+'<div class="alert-btn"><span id="alert-ok">'+n.okBtnText+'</span><span id="alert-cancel">'+n.cancelBtnText+"</span></div></div></div></div>",$("body").append(o),n.justOk&&$("#alert-cancel").remove(),n.defBtnIndex>-1&&$(".alert-btn span:eq("+n.defBtnIndex+")").css("font-weight","bold"),$("#alert-ok").off().on("click",function(){n.okFn?n.okFn()!==!1&&$(".dialog").remove():$(".dialog").remove()}),$("#alert-cancel").off().on("click",function(){n.cancelFn?n.cancelFn()!==!1&&$(".dialog").remove():$(".dialog").remove()})},tip:function(t,e){var t=t||"",n="",e=e||{},o=e.duration||"800",r=e.iconClass||"";$(".alert-tip").remove(),n=r?'<div class="alert-tip"><span class="msg msg-icon"><i class="i '+r+'"></i>'+t+"</span></div>":'<div class="alert-tip"><span class="msg">'+t+"</span></div>",$("body").append(n),clearInterval(util.interval),util.interval=setTimeout(function(){util.interval=setInterval(function(){var t=parseFloat($(".alert-tip").css("opacity")-.1).toFixed(1);t>0?$(".alert-tip").css("opacity",t):(clearInterval(util.interval),$(".alert-tip").remove())},50)},o)},countDown:function(t){var e=t.elem||{},n=t.downTime||60,o=t.formate||"count",r=$.isFunction(t.callback)?t.callback:function(){},i=e.get(0).id+"Interval",a=e.text();clearInterval(util[i]),e.html(o.replace(/count/,n)).addClass("countdown"),util[i]=setInterval(function(){n--,n>0?e.html(function(t,e){return o.replace(/count/,n)}):(clearInterval(util[i]),e.removeClass("countdown").html(a),r())},1e3)},comShow:function(t){var t=t||{},e=t.txt||"",n=t.btn||"",o=t.link||"javascript:;",r=t.icl||"",i="";i+='<div class="tuwen maxtop bcgray" id="commonShow"><div class="tu"><i class="i '+r+'"></i></div>',e&&(i+='<p class="wen">'+e+"</p>"),n&&(i+='<a class="btn btn-footer" href="'+o+'" >'+n+"</a>"),i+="</div>",util.remComShow(),$("body").append(i),$("#commonShow").css({top:$(".container").css("top"),bottom:"0"})},remComShow:function(){$("#commonShow").remove()},clickGrayEffect:function(t){var e=t.offset().top,n=t.height();util.remClickGrayEffect(),$("body").append('<div id="clickGrayEffect" style="width: 100%; height: '+(n+1)+"px; position: absolute; top: "+(e-1)+'px; left: 0; background-color: rgba(0, 0, 0, .1);"></div>'),$("#clickGrayEffect").on(util.getMouseup(),function(){util.remClickGrayEffect()})},remClickGrayEffect:function(){$("#clickGrayEffect").remove()}}),$.extend(n.util,{loadCommonActionLoad:function(){util.noWxLogin||util.wxlogin(),util.loadGoBack(),util.loadMenuEvent(),util.loadInputClearBtn(),util.loadEnterKeySubmit(),util.loadClickGrayEffect(),util.loadNumberInputLimit()},loadGoBack:function(){util.getHrefParma().ou;$(".goBack").attr("href")||$(".goBack").attr("href","javascript:window.history.back();")},loadMenuEvent:function(){var t=$(".header .menu");return!!t.length&&void $(document).on(util.getClick(),function(e){var n=$(e.target);return n.is(".header .btn")||n.is(".header .btn .i-more")&&t.is(":hidden")?void t.show():void t.hide()})},loadInputClearBtn:function(){$(".js-clearInput").off().on(util.getClick(),function(){$(this).parent().find("input").val("")})},loadEnterKeySubmit:function(){$("input, textarea").on("keyup",function(t){13===t.keyCode&&$(".js-entersave").trigger(util.getClick())})},loadClickGrayEffect:function(){$("[cge]").on("touchstart","li:not([nocge])",function(){util.clickGrayEffect($(this))}),$("[cge]").on("touchend","li:not([nocge])",function(){util.remClickGrayEffect()}),$("[cge]").on("touchmove",function(){util.remClickGrayEffect()})},loadNumberInputLimit:function(){$(document).on("input propertychange","input.js-number",function(){var t=$(this).val().replace(/[^0-9]/g,"");$(this).val(t)})},wxlogin:function(){var t=util.getHrefParma(),e=t.code,o=t.state;e&&util.api({surl:n.CM_API_PATH+"wxlogin",data:{wxcode:e,wxstate:o},type:"post",async:!1,success:function(t){var e=t.rpco;switch(e){case 201:util.href("/accsmfail.html");break;case 40001:case 40002:case 50001:}}})},login:function(t){util.isWeixin()?util.alert("您的访问已超时，页面将重新刷新。",{justOk:!1,defBtnIndex:0,okFn:function(){var t=n.WXCM_API_PATH+"wxrc?furl="+window.location.href;util.href(t)}}):t?util.href("/login.html",{ou:t}):util.href("/login.html",{},!0)}}),$.extend(n.util,{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,o,r,i,a,c,l="",u=0;for(t=this._utf8_encode(t);u<t.length;)e=t.charCodeAt(u++),n=t.charCodeAt(u++),o=t.charCodeAt(u++),r=e>>2,i=(3&e)<<4|n>>4,a=(15&n)<<2|o>>6,c=63&o,isNaN(n)?a=c=64:isNaN(o)&&(c=64),l=l+util._keyStr.charAt(r)+util._keyStr.charAt(i)+util._keyStr.charAt(a)+util._keyStr.charAt(c);return l},decode:function(t){var e,n,o,r,i,a,c,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=util._keyStr.indexOf(t.charAt(u++)),i=util._keyStr.indexOf(t.charAt(u++)),a=util._keyStr.indexOf(t.charAt(u++)),c=util._keyStr.indexOf(t.charAt(u++)),e=r<<2|i>>4,n=(15&i)<<4|a>>2,o=(3&a)<<6|c,l+=String.fromCharCode(e),64!=a&&(l+=String.fromCharCode(n)),64!=c&&(l+=String.fromCharCode(o));return l=this._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},_utf8_decode:function(t){for(var e="",n=0,o=c1=c2=0;n<t.length;)o=t.charCodeAt(n),o<128?(e+=String.fromCharCode(o),n++):o>191&&o<224?(c2=t.charCodeAt(n+1),e+=String.fromCharCode((31&o)<<6|63&c2),n+=2):(c2=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),n+=3);return e}}),util.loadCommonActionLoad()}]);