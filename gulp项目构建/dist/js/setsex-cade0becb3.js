/**
 * yidao
 * created by 用车前端组
 */
"use strict";var root=window||{},util=root.util||{},SetSex=function(t){this.options=$.extend({sel:"",hrefParma:util.getHrefParma(),msg:{m1:"请选择性别",m2:"保存成功"},requestState:{save:!0}},t),this.sel=this.options.sel,this.el=$(this.sel)};$.extend(SetSex.prototype,{init:function(){var t=this;t.load(),t.addEvent()},load:function(){var t=this,e=t.options.hrefParma;e.sex&&$('#list li[val="'+e.sex+'"]').addClass("cur")},_save:function(t){var e=this;util.api({surl:root.MB_API_PATH+"modudtal",data:{mod:4,sex:t},type:"post",beforeSend:function(){e.options.requestState.save=!1},success:function(t){var e=t.rpco;t.body||{};switch(e){case 200:util.href("set.html");break;default:util.tip("保存失败")}},complete:function(){e.options.requestState.save=!0}})},save:function(){var t=this,e=$("#list .cur").attr("val");return!!t.options.requestState.save&&(e?void t._save(e):(util.tip(t.options.msg.m1),!1))},addEvent:function(){var t=this,e=util.getClick();t.options.hrefParma;t.el.on(e,"#save",function(){t.save()}),t.el.on(e,"#list li",function(){$("#list li").removeClass("cur"),$(this).addClass("cur")})}});