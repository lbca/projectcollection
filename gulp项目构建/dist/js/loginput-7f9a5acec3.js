/**
 * yidao
 * created by 用车前端组
 */
"use strict";var root=window||{},util=root.util||{},Loginput=function(t){this.options=$.extend({sel:"",hrefParma:util.getHrefParma(),msg:{m1:"请输入账号",m2:"请输入密码",m3:"账号输入有误",m4:"账号不能为空",m5:"手机号码有误",m6:"账号不能包含字符和汉字",m7:"账号不存在，赶快去注册吧",m8:"密码错误",m9:"密码长度过短",m10:"密码长度过长",m11:"密码不能为空",m12:"暂不支持邮箱登陆"}},t),this.sel=this.options.sel,this.el=$(this.sel)};$.extend(Loginput.prototype,{init:function(){var t=this;t.addEvent()},_login:function(t,i){var o=this;util.api({surl:root.CM_API_PATH+"login",data:{lgtk:t,lgpwd:i},type:"post",async:!1,success:function(t){var i=t.rpco,s=o.options.hrefParma.ou||"set.html";switch(i){case 200:util.href(s);break;case 40001:util.tip(o.options.msg.m3);break;case 40002:util.tip(o.options.msg.m4);break;case 40003:util.tip(o.options.msg.m5);break;case 40004:util.tip(o.options.msg.m6);break;case 40101:util.tip(o.options.msg.m7);break;case 40102:util.tip(o.options.msg.m8);break;case 40011:util.tip(o.options.msg.m9);break;case 40012:util.tip(o.options.msg.m10);break;case 40013:util.tip(o.options.msg.m11);break;case 40050:util.tip(o.options.msg.m12);break;default:util.tip("登录失败")}}})},login:function(){var t=this,i=$("#lgtk").val(),o=$("#lgpwd").val();return i?o?void t._login(i,o):(util.tip(t.options.msg.m2),!1):(util.tip(t.options.msg.m1),!1)},addEvent:function(){var t=this,i=util.getClick();t.options.hrefParma;t.el.on(i,"#login",function(){t.login()}),t.el.on("input propertychange","input",function(){var t=0;$("input").each(function(i,o){$(this).val()&&t++}),2===t?$("#login").addClass("act"):$("#login").removeClass("act")})}});