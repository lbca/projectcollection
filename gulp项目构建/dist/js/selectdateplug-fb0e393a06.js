/**
 * yidao
 * created by 用车前端组
 */
"use strict";var root=window||{},util=root.util||{},SelectDatePlug=function(t){var e=this;this.options=$.extend({okFn:function(){e.el.hide()},canFn:function(){e.el.hide()},selectPlug:null,iscroll:{year:null,month:null,day:null},nameSuffix:{year:"年",month:"月",day:"日"},select:{year:null,month:null,day:null},width:{year:"33%",month:"22%",day:"24%"},sel:".js-selectDateDialog",hrefParma:util.getHrefParma()},t),this.sel=this.options.sel,this.el=$(this.sel),this.init()};$.extend(SelectDatePlug.prototype,{init:function(){var t=this;t.load(),t.addEvent()},load:function(){var t=this;t.options.hrefParma;t.setSelectData()},setSelectData:function(){var t=this,e=t.options.select.year={width:t.options.width.year,scrollEnd:function(){t.reLoadDaySelectData()},selectData:t.getYearSelectData()},o=t.options.select.month={width:t.options.width.month,scrollEnd:function(){t.reLoadDaySelectData()},selectData:t.getMonthSelectData()},a=t.options.select.day={width:t.options.width.day,scrollEnd:function(){},selectData:t.getDaySelectData()},n=[];n.push(e),n.push(o),n.push(a),t.options.selectPlug=new SelectPlug({okFn:t.options.okFn,canFn:t.options.canFn,selectList:n}),t.options.iscroll.year=t.options.selectPlug.options.iscroll[0],t.options.iscroll.month=t.options.selectPlug.options.iscroll[1],t.options.iscroll.day=t.options.selectPlug.options.iscroll[2]},reLoadDaySelectData:function(){var t=this,e=t.options.selectPlug,o=t.getYear(),a=t.getMonth(),n=t.getDaySelectData(o,a);t.options.select.day.selectData=n,t.options.iscroll.day=e.reLoadSelectData(t.options.iscroll.day,t.options.select.day)},getYear:function(){var t=this;return t.options.selectPlug.getSelectValue(t.options.iscroll.year)},getMonth:function(){var t=this;return t.options.selectPlug.getSelectValue(t.options.iscroll.month)},getDay:function(){var t=this;return t.options.selectPlug.getSelectValue(t.options.iscroll.day)},setYear:function(t){var e=this,o=$(e.options.iscroll.year.wrapper),a=o.find('li[value="'+t+'"]').index();e.options.iscroll.year.goToPage(0,a)},setMonth:function(t){var e=this,o=$(e.options.iscroll.month.wrapper),a=o.find('li[value="'+t+'"]').index();e.options.iscroll.month.goToPage(0,a)},setDay:function(t){var e=this,o=$(e.options.iscroll.day.wrapper),a=o.find('li[value="'+t+'"]').index();e.options.iscroll.day.goToPage(0,a)},getYearSelectData:function(){for(var t=this,e=(new Date).getFullYear(),o=[],a=e;a>=2016;a--)o.push({name:a+t.options.nameSuffix.year,value:a});return o},getMonthSelectData:function(){for(var t=this,e=[],o=1;o<=12;o++)e.push({name:o+t.options.nameSuffix.month,value:o});return e},getDaySelectData:function(t,e){var o=this,e=e||"1",a=0,n=[];switch(e){case"1":case"3":case"5":case"7":case"8":case"10":case"12":a=31;break;case"4":case"6":case"9":case"11":a=30;break;case"2":a=t%4===0?29:28}for(var i=1;i<=a;i++)n.push({name:i+o.options.nameSuffix.day,value:i});return n},addEvent:function(){var t=this;util.getClick(),t.options.hrefParma}});